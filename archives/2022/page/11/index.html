<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>Haojen's blog</title><meta name="description" content="May the Force be with you"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Hexo & github" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Haojen's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 2022</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../images/image-20221122120748208.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/06/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%93/"><img class="post-cover-img js-img-fadeIn" src="/../../images/image-20221122120748208.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%88%B7%E9%A2%98"><i class="tag post-item-tag">刷题</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/06/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%93/">刷题总结</a></h2><time class="has-text-grey" datetime="2022-11-06T01:14:39.821Z">2022-11-06</time><p class="is-flex-grow-2 mt-2">1. Java的split方法使用多种分隔符切分字符串方法一：多个分隔符使用**’|’**分开，例如：
      String str = &quot;abc;123,456?999|haha&quot;;
      String[] strs=str.split(&quot;;|,&quot;);
      for(String s : strs){
          System.out.println(s);
      }

输出：
123abc123456?999|haha

方法二：使用中括号括起来**[“…”]**，例如:
    String str = &quot;abc;123,456?999|haha&quot;;
    String[] strs = str.split(&quot;[;,?|25]&quot;);
    for(String s :..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/06/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E6%80%BB%E7%BB%93/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/31cfbf19cd1941909e0aaa594f2bd5d0.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/06/elasticsearch/%E7%B4%A2%E5%BC%95%E5%BA%93%E4%B8%AD%E7%9A%84%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/31cfbf19cd1941909e0aaa594f2bd5d0.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/06/elasticsearch/%E7%B4%A2%E5%BC%95%E5%BA%93%E4%B8%AD%E7%9A%84%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C/">索引库中的文档的操作</a></h2><time class="has-text-grey" datetime="2022-11-06T01:12:39.243Z">2022-11-06</time><p class="is-flex-grow-2 mt-2">索引库中的文档的操作


（实例）代码：
1234567891011121314151617181920212223242526272829303132333435363738# 插入文档POST /heima/_doc/1{  &quot;info&quot;: &quot;黑马程序员java讲师&quot;,  &quot;email&quot;: &quot;zy@itcast.cn&quot;,  &quot;name&quot;: {    &quot;firstname&quot;: &quot;云&quot;,    &quot;lastname&quot;: &quot;赵&quot;  }}# 查询文档GET /heima/_doc/1# 删除文档DELETE /heima/_doc/1# 修改文档，方式1：全量修改文档，如果存在则删除旧的，新的覆盖旧的，如果原先没有，则新增该文档（所以放修改方式相当于也是一种插入文档的方法）POST /heima/_doc/1{ ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/06/elasticsearch/%E7%B4%A2%E5%BC%95%E5%BA%93%E4%B8%AD%E7%9A%84%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/65c0ab898d754d8e97699b41931b2426.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/06/elasticsearch/RestClient%E6%9F%A5%E8%AF%A2%E6%96%87%E6%A1%A3/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/65c0ab898d754d8e97699b41931b2426.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/06/elasticsearch/RestClient%E6%9F%A5%E8%AF%A2%E6%96%87%E6%A1%A3/">RestClient查询文档</a></h2><time class="has-text-grey" datetime="2022-11-06T01:12:39.239Z">2022-11-06</time><p class="is-flex-grow-2 mt-2">快速入门：编辑
match_all查询：1234567891011121314151617181920212223242526272829303132333435//match_all查询    @Test    void testMatchAll() throws IOException {        String index  = &quot;tb_disable_date_diary&quot;;        //1.准备Request        SearchRequest request = new SearchRequest(index);        //2.准备DSL        request.source().query(QueryBuilders.matchAllQuery());      ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/06/elasticsearch/RestClient%E6%9F%A5%E8%AF%A2%E6%96%87%E6%A1%A3/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/0fb9368cceef43ddbd2bb17ed8d24088.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/06/elasticsearch/javaRestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93%E5%92%8C%E6%96%87%E6%A1%A3/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/0fb9368cceef43ddbd2bb17ed8d24088.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/06/elasticsearch/javaRestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93%E5%92%8C%E6%96%87%E6%A1%A3/">javaRestClient操作索引库和文档</a></h2><time class="has-text-grey" datetime="2022-11-06T01:12:39.233Z">2022-11-06</time><p class="is-flex-grow-2 mt-2">1. 创建索引库：
12345678910//创建索引库   @Test   void createHotelIndex() throws IOException {       //1.创建Request对象       CreateIndexRequest request = new CreateIndexRequest(&quot;hotel&quot;);       //2.准备请求的参数：DSL语句       request.source(MAPPING_TEMPLATE, XContentType.JSON);       //3.发送请求       client.indices().create(request,RequestOptions.DEFAULT);   }


12345678910111213..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/06/elasticsearch/javaRestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93%E5%92%8C%E6%96%87%E6%A1%A3/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/7167950f76224359bedc252c4fb816da.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/06/elasticsearch/ES%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90%E6%8A%A5%E9%94%99%EF%BC%9A%E2%80%9Creason%E2%80%9C%20/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/7167950f76224359bedc252c4fb816da.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/06/elasticsearch/ES%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90%E6%8A%A5%E9%94%99%EF%BC%9A%E2%80%9Creason%E2%80%9C%20/">ES聚合分析报错:“reason“</a></h2><time class="has-text-grey" datetime="2022-11-06T01:12:39.229Z">2022-11-06</time><p class="is-flex-grow-2 mt-2">因为brand的type是text，``text或annotated_text字段doc_values默认为false。
简单理解，就是text字段作为一个整体，默认没有索引。

 解释：
​    因为brand的type是text，text或annotated_text字段doc_values默认为false。简单理解，就是text字段作为一个整体，默认没有索引。
​    不过text分词之后的keyword是有索引的，因而可以对brand.keyword进行聚合。如下：

</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/06/elasticsearch/ES%E8%81%9A%E5%90%88%E5%88%86%E6%9E%90%E6%8A%A5%E9%94%99%EF%BC%9A%E2%80%9Creason%E2%80%9C%20/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../images/f1f4347079c44f87b15fe6d63b5a1372.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/05/redis/springboot%E6%95%B4%E5%90%88%E4%BD%BF%E7%94%A8%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84Redis/"><img class="post-cover-img js-img-fadeIn" src="/../../images/f1f4347079c44f87b15fe6d63b5a1372.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/redis"><i class="tag post-item-tag">redis</i></a><a href="/tags/springboot"><i class="tag post-item-tag">springboot</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/05/redis/springboot%E6%95%B4%E5%90%88%E4%BD%BF%E7%94%A8%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84Redis/">springboot整合使用云服务器上的Redis</a></h2><time class="has-text-grey" datetime="2022-11-05T15:22:53.637Z">2022-11-05</time><p class="is-flex-grow-2 mt-2">一、前提条件修改redis.conf配置文件
1、protected-mode yes（默认的） 修改成 protected-mode no，解除保护模式

2、注释掉绑定ip ，绑定ip的话，使得除了本机（服务器）以外的主机无法访问redis数据库
 
3、将守护进程模式关闭 daemonize yes 改成 daemonize no

4、最后，一定记住要redis-server redis.conf重启redis的配置文件，否则修改不生效！！！
二、整合步骤1、导入依赖
12345&amp;lt;!--redis--&amp;gt;&amp;lt;dependency&amp;gt;    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;    &amp;lt;artifactI..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/05/redis/springboot%E6%95%B4%E5%90%88%E4%BD%BF%E7%94%A8%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84Redis/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/5584f01c08764c0bb05bbc22c577a0cb.jpeg" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/05/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E7%AC%AC%E4%B8%89%E7%AB%A0%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%EF%BC%88SQL%20SERVER%EF%BC%89/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/5584f01c08764c0bb05bbc22c577a0cb.jpeg" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/sql"><i class="tag post-item-tag">sql</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/05/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E7%AC%AC%E4%B8%89%E7%AB%A0%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%EF%BC%88SQL%20SERVER%EF%BC%89/">数据库原理及应用第三章知识点思维导图（SQL SERVER）</a></h2><time class="has-text-grey" datetime="2022-11-05T12:49:40.624Z">2022-11-05</time><p class="is-flex-grow-2 mt-2">直接上图： 

</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/05/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8%E7%AC%AC%E4%B8%89%E7%AB%A0%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%EF%BC%88SQL%20SERVER%EF%BC%89/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../images/image-20221121220556724.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/05/hello-world/"><img class="post-cover-img js-img-fadeIn" src="/../images/image-20221121220556724.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/05/hello-world/">Hello World</a></h2><time class="has-text-grey" datetime="2022-11-05T12:03:38.450Z">2022-11-05</time><p class="is-flex-grow-2 mt-2">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More i..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/05/hello-world/">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/archives/2022/page/10/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/archives/2022/">1</a><span class="space">&hellip;</span><a class="page-number" href="/archives/2022/page/9/">9</a><a class="page-number" href="/archives/2022/page/10/">10</a><span class="page-number current">11</span></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">102</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/haojen"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Haojen 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>