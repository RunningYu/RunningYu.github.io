<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>Haojen's blog</title><meta name="description" content="May the Force be with you"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Hexo & github" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Haojen's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 2022</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/812888ca0a09465b93439f5340381300~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/08/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/nohup%E5%91%BD%E4%BB%A4%E8%AE%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%9C%A8%E5%90%8E%E5%8F%B0%E4%B8%80%E7%9B%B4%E8%BF%90%E8%A1%8C%EF%BC%8C%E9%80%80%E5%87%BA%E7%BB%88%E7%AB%AF%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/812888ca0a09465b93439f5340381300~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><i class="tag post-item-tag">云服务器</i></a><a href="/tags/%E9%83%A8%E7%BD%B2"><i class="tag post-item-tag">部署</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/08/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/nohup%E5%91%BD%E4%BB%A4%E8%AE%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%9C%A8%E5%90%8E%E5%8F%B0%E4%B8%80%E7%9B%B4%E8%BF%90%E8%A1%8C%EF%BC%8C%E9%80%80%E5%87%BA%E7%BB%88%E7%AB%AF%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C/">nohup命令让服务器上的程序在后台一直运行，退出终端也可以保持程序运行</a></h2><time class="has-text-grey" datetime="2022-11-08T02:42:30.851Z">2022-11-08</time><p class="is-flex-grow-2 mt-2">（本博文的方法对于阿里云和腾讯与服务器都适用 ）
场景：
部署一个后端程序（climate-0.0.1-SNAPSHOT.jar）到我腾讯云的服务器上，常规启动命令如下： 
1java -jar climate-0.0.1-SNAPSHOT.jar



上图表示项目部署成功，便可以在浏览器上进行访问
但是关闭终端后，就不能访问了，也就达不到上线的效果。
而我们想项目程序在关闭退出终端后，也一样继续运行，
这时候需要使用 nohup 命令启动（该命令可以在你退出帐户/关闭终端之后继续运行相应的进程）
输入如下命令：
1nohup java -jar climate-0.0.1-SNAPSHOT.jar


 但是会报错（表示：执行nohup命令的时候，经常会没有写入权限的错误）

1、原因
是因为使用 no..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/08/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/nohup%E5%91%BD%E4%BB%A4%E8%AE%A9%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%9C%A8%E5%90%8E%E5%8F%B0%E4%B8%80%E7%9B%B4%E8%BF%90%E8%A1%8C%EF%BC%8C%E9%80%80%E5%87%BA%E7%BB%88%E7%AB%AF%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C/">更多</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/springboot"><i class="tag post-item-tag">springboot</i></a><a href="/tags/mybatisplus"><i class="tag post-item-tag">mybatisplus</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/08/springboot/Spring%20Boot-MyBatis%E9%85%8D%E7%BD%AE%E5%B8%A6%E4%B8%8B%E5%88%92%E7%BA%BF%E5%91%BD%E5%90%8D%E7%9A%84%E5%AD%97%E6%AE%B5%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">Spring Boot-MyBatis配置带下划线命名的字段自动转换驼峰命名解决方案</a></h2><time class="has-text-grey" datetime="2022-11-08T02:39:44.181Z">2022-11-08</time><p class="is-flex-grow-2 mt-2">问题描述MyBatis无法查询出属性名和数据库字段名不完全相同的数据。
即：属性名和数据库字段名分别为驼峰命名和下划线命名时查出的数据为NULL。
问题分析MyBatis默认是属性名和数据库字段名一一对应的，即 

数据库表列：user_name 
实体类属性：user_name

但是java中一般使用驼峰命名 

数据库表列：user_name 
实体类属性：userName

实体类属性：userName
解决方案 (开启驼峰命名转换)在Spring Boot中，可以通过设置map-underscore-to-camel-case属性为true来开启驼峰功能。  
MyBatis配置： 
application.properties中：
1mybatis.configuration.map-under..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/08/springboot/Spring%20Boot-MyBatis%E9%85%8D%E7%BD%AE%E5%B8%A6%E4%B8%8B%E5%88%92%E7%BA%BF%E5%91%BD%E5%90%8D%E7%9A%84%E5%AD%97%E6%AE%B5%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a5591d4a48c140d190c89a416d1e0e30~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/08/springboot/mybatisplus%20+%20%E6%95%B0%E6%8D%AE%E5%BA%93%20%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a5591d4a48c140d190c89a416d1e0e30~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/mybatisplus"><i class="tag post-item-tag">mybatisplus</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/08/springboot/mybatisplus%20+%20%E6%95%B0%E6%8D%AE%E5%BA%93%20%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3/">mybatisplus + 数据库 相关注解</a></h2><time class="has-text-grey" datetime="2022-11-08T02:36:22.517Z">2022-11-08</time><p class="is-flex-grow-2 mt-2">关联：

pom.xml配置注入依赖：

1234567891011121314151617&amp;lt;!--        mybatisplus+数据库相关开始--&amp;gt;        &amp;lt;dependency&amp;gt;            &amp;lt;groupId&amp;gt;com.baomidou&amp;lt;/groupId&amp;gt;            &amp;lt;artifactId&amp;gt;mybatis-plus-boot-starter&amp;lt;/artifactId&amp;gt;            &amp;lt;version&amp;gt;3.4.2&amp;lt;/version&amp;gt;        &amp;lt;/dependency&amp;gt;        &amp;lt;dependency&amp;gt;            &amp;lt;..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/08/springboot/mybatisplus%20+%20%E6%95%B0%E6%8D%AE%E5%BA%93%20%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/976c4e3d38b843599bc3342a347cdce9~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/08/MQ/%EF%BC%88rabbitmq%E7%9A%84%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%89%E6%B6%88%E6%81%AF%E5%8F%AF%E9%9D%A0%E6%80%A7/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/976c4e3d38b843599bc3342a347cdce9~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/rabbitmq"><i class="tag post-item-tag">rabbitmq</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/08/MQ/%EF%BC%88rabbitmq%E7%9A%84%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%89%E6%B6%88%E6%81%AF%E5%8F%AF%E9%9D%A0%E6%80%A7/">（rabbitmq的高级特性）消息可靠性</a></h2><time class="has-text-grey" datetime="2022-11-08T02:32:05.810Z">2022-11-08</time><p class="is-flex-grow-2 mt-2">对应的教程视频：
高级篇Day5-01-MQ常见问题及消息可靠性_哔哩哔哩_bilibili

一、生产者消息确认 
1.在生成者这个微服务的apllication.yml中添加配置
123456spring:  rabbitmq:    publisher-confirm-type: correlated    publisher-returns: true    template:      mandatory: true


2.每个RabbitTemplate只能配置一个ReturnCallback，因此需要在项目启动过程中配置

代码：
1234567891011121314151617181920212223242526272829303132333435import lombok.extern..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/08/MQ/%EF%BC%88rabbitmq%E7%9A%84%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%EF%BC%89%E6%B6%88%E6%81%AF%E5%8F%AF%E9%9D%A0%E6%80%A7/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../images/image-20221107182147634.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/hexo%E4%B8%8A%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/"><img class="post-cover-img js-img-fadeIn" src="/../../images/image-20221107182147634.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/hexo%E5%8D%9A%E5%AE%A2"><i class="tag post-item-tag">hexo博客</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/hexo%E4%B8%8A%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/">hexo博客上的图片路径问题解决方法</a></h2><time class="has-text-grey" datetime="2022-11-07T10:21:28.782Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">
通过下面命令下载插件:

1npm i hexo-renderer-marked





在自己的博客的source路劲下新建一个images文件夹



在typora，进入到 文件–&amp;gt;偏好设置–&amp;gt;图像，然后选择复制到指定路径，选到上面新建的images文件夹路径，勾选下面红框的选项



修改你博客的配置文件**_config.yml**

修改配置：

添加上下面语句：
123marked:  prependRoot: true  postAsset: true



之后，你每次复制图片过来，图片路径就是相对路径了
当然，对于网络位置的图片回自动是网络上的图片链接，这种图片在博客上是完全没问题的，比如：

</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/hexo%E4%B8%8A%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ae5fe2a56a242239dfbb8d5ffad5c77~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/elasticsearch/mapping%E7%B4%A2%E5%BC%95%E5%B1%9E%E6%80%A7%20&amp;%20%E5%88%9B%E5%BB%BA%E7%B4%A2%E7%9A%84%E6%93%8D%E4%BD%9C/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ae5fe2a56a242239dfbb8d5ffad5c77~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/elasticsearch/mapping%E7%B4%A2%E5%BC%95%E5%B1%9E%E6%80%A7%20&amp;%20%E5%88%9B%E5%BB%BA%E7%B4%A2%E7%9A%84%E6%93%8D%E4%BD%9C/">mapping索引属性 &amp; 创建索的操作</a></h2><time class="has-text-grey" datetime="2022-11-07T01:33:17.980Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">概念对比

一. mapping索引属性
二. 索引库的操作1. 创建索引库

实例：
123456789101112131415161718192021222324252627#创建索引库PUT /heima{  &quot;mappings&quot;: {    &quot;properties&quot;: {      &quot;info&quot;: {        &quot;type&quot;: &quot;text&quot;,        &quot;analyzer&quot;: &quot;ik_smart&quot;      },      &quot;email&quot;: {        &quot;type&quot;: &quot;keyword&quot;,        &quot;index&quot;: false      },      &quot;name&quot;: {        &quot;type&quot;: &quot;object&quot;,        &quot;properties&quot;: {       ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/elasticsearch/mapping%E7%B4%A2%E5%BC%95%E5%B1%9E%E6%80%A7%20&amp;%20%E5%88%9B%E5%BB%BA%E7%B4%A2%E7%9A%84%E6%93%8D%E4%BD%9C/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5786c69065043e093ba25dbd976d6d7~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/elasticsearch/RestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93-%E5%88%9D%E5%A7%8B%E5%8C%96RestClient/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5786c69065043e093ba25dbd976d6d7~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/elasticsearch/RestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93-%E5%88%9D%E5%A7%8B%E5%8C%96RestClient/">RestClient操作索引库-初始化RestClient</a></h2><time class="has-text-grey" datetime="2022-11-07T01:32:05.788Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">1.引入es的RestHighLevelClient依赖：
123456&amp;lt;!--elasticsearch--&amp;gt;&amp;lt;dependency&amp;gt;     &amp;lt;groupId&amp;gt;org.elasticsearch.client&amp;lt;/groupId&amp;gt;     &amp;lt;artifactId&amp;gt;elasticsearch-rest-high-level-client&amp;lt;/artifactId&amp;gt;     &amp;lt;version&amp;gt;7.12.1&amp;lt;/version&amp;gt;&amp;lt;/dependency&amp;gt;



2.因为SpringBoot默认的ES版本是7.6.2，所以我们需要覆盖默认的ES版本： 

3.初始化RestHighLevelClient：
12..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/elasticsearch/RestClient%E6%93%8D%E4%BD%9C%E7%B4%A2%E5%BC%95%E5%BA%93-%E5%88%9D%E5%A7%8B%E5%8C%96RestClient/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/691a87ed40d74802b9a828ac3e6d9143~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/elasticsearch/RestAPI%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%20&amp;%20%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%EF%BC%88%E6%90%9C%E7%B4%A2%E6%A1%86%E8%BE%93%E5%85%A5%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%EF%BC%89/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/691a87ed40d74802b9a828ac3e6d9143~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/elasticsearch/RestAPI%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%20&amp;%20%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%EF%BC%88%E6%90%9C%E7%B4%A2%E6%A1%86%E8%BE%93%E5%85%A5%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%EF%BC%89/">RestAPI实现自动补全 &amp; 案例实现（搜索框输入进行自动补全）</a></h2><time class="has-text-grey" datetime="2022-11-07T01:29:24.978Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">一、RestAPI实现自动补全查询（代码讲解） 


代码：
123456789101112131415161718192021222324252627282930313233    @Autowired    private RestHighLevelClient client;    @Test    void testSuggestion() throws IOException {        //1.准备Request        SearchRequest request = new SearchRequest(&quot;hotel&quot;);        //2.准备DSL        request.source().suggest(new SuggestBuilder().addSuggesti..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/elasticsearch/RestAPI%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%20&amp;%20%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0%EF%BC%88%E6%90%9C%E7%B4%A2%E6%A1%86%E8%BE%93%E5%85%A5%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%EF%BC%89/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c58d88178fb4eff90f30708588d655a~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/elasticsearch/%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95%E5%BA%93%E7%BB%93%E6%9E%84%EF%BC%8C%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%8F%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E7%9A%84suggestion,%E5%B9%B6%E5%B0%86%E4%B8%80%E4%BA%9B%E5%AD%97%E6%AE%B5%E5%8F%98%E6%88%90%E9%9B%86%E5%90%88%E6%94%BE%E5%88%B0suggestion%E9%87%8C%E9%9D%A2%E5%8E%BB/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c58d88178fb4eff90f30708588d655a~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/elasticsearch/%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95%E5%BA%93%E7%BB%93%E6%9E%84%EF%BC%8C%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%8F%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E7%9A%84suggestion,%E5%B9%B6%E5%B0%86%E4%B8%80%E4%BA%9B%E5%AD%97%E6%AE%B5%E5%8F%98%E6%88%90%E9%9B%86%E5%90%88%E6%94%BE%E5%88%B0suggestion%E9%87%8C%E9%9D%A2%E5%8E%BB/">设置索引库结构，给用户添加可自动补全的suggestion,并将一些字段变成集合放到suggestion里面去</a></h2><time class="has-text-grey" datetime="2022-11-07T01:28:24.978Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">设置索引库结构，给用户添加可自动补全的suggestion,并将一些字段变成集合放到suggestion里面去
若business有多个值，可进行切割
进行切割123456789//将brand 和 business 变成集合放到suggestion里       if(this.business.contains(&quot;/&quot;)){           //business有多个值，需要切割           String[] arr = this.business.split(&quot;/&quot;);           //添加元素           this.suggestion = new ArrayList&amp;lt;String&amp;gt;();           Collections.addAll(this.s..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/elasticsearch/%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95%E5%BA%93%E7%BB%93%E6%9E%84%EF%BC%8C%E7%BB%99%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0%E5%8F%AF%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E7%9A%84suggestion,%E5%B9%B6%E5%B0%86%E4%B8%80%E4%BA%9B%E5%AD%97%E6%AE%B5%E5%8F%98%E6%88%90%E9%9B%86%E5%90%88%E6%94%BE%E5%88%B0suggestion%E9%87%8C%E9%9D%A2%E5%8E%BB/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebc7c2dd979d46109816b3b5e157e466~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2022/11/07/elasticsearch/DSL%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E6%9F%A5%E8%AF%A2/"><img class="post-cover-img js-img-fadeIn" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ebc7c2dd979d46109816b3b5e157e466~tplv-k3u1fbpfcp-zoom-1.image" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Elasticsearch"><i class="tag post-item-tag">Elasticsearch</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2022/11/07/elasticsearch/DSL%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E6%9F%A5%E8%AF%A2/">DSL实现自动补全查询</a></h2><time class="has-text-grey" datetime="2022-11-07T01:26:59.320Z">2022-11-07</time><p class="is-flex-grow-2 mt-2">elasticsearch提供了Completion Suggester查询来实现自动补全功能。这个查询会匹配以用户输入内容开头的词条并返回。为了提高补全查询的效率，对于文档中字段的类型有一些约束：
• 参与补全查询的字段必须是completion类型。
   • 字段的内容一般是用来补全的多个词条形成的**数组**。

查询语法如下：
1234567891011121314// 自动补全查询GET /test/_search{  &quot;suggest&quot;: {    &quot;title_suggest&quot;: {      &quot;text&quot;: &quot;s&quot;, // 关键字      &quot;completion&quot;: {        &quot;field&quot;: &quot;title&quot;, // 补全查询的字段        &quot;skip_duplicates..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2022/11/07/elasticsearch/DSL%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E6%9F%A5%E8%AF%A2/">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/archives/2022/page/8/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/archives/2022/">1</a><span class="space">&hellip;</span><a class="page-number" href="/archives/2022/page/7/">7</a><a class="page-number" href="/archives/2022/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/archives/2022/page/10/">10</a><a class="page-number" href="/archives/2022/page/11/">11</a><a class="extend next" rel="next" href="/archives/2022/page/10/"><i class="iconfont icon-next has-text-grey"></i></a></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">102</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/haojen"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Haojen 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>