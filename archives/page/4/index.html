<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>Haojen's blog</title><meta name="description" content="May the Force be with you"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Hexo & github" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Haojen's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>归档 · 全部</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../../images/image-20230114011523888.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/%EF%BC%88nio%EF%BC%89Files%20%E8%AF%A6%E7%BB%86%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E5%92%8C%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%A6%82%E5%88%A0%E9%99%A4%E3%80%81%E6%8B%B7%E8%B4%9D%EF%BC%88%E5%A4%9A%E7%BA%A7%EF%BC%89%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AD%89/"><img class="post-cover-img js-img-fadeIn" src="/../../../images/image-20230114011523888.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Netty"><i class="tag post-item-tag">Netty</i></a><a href="/tags/nio"><i class="tag post-item-tag">nio</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/%EF%BC%88nio%EF%BC%89Files%20%E8%AF%A6%E7%BB%86%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E5%92%8C%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%A6%82%E5%88%A0%E9%99%A4%E3%80%81%E6%8B%B7%E8%B4%9D%EF%BC%88%E5%A4%9A%E7%BA%A7%EF%BC%89%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AD%89/">（Netty）nio-Files-walkFileTree 详细相关操作和演示代码，如删除、拷贝（多级）文件目录等</a></h2><time class="has-text-grey" datetime="2023-01-14T16:42:41.962Z">2023-01-15</time><p class="is-flex-grow-2 mt-2">Files检查文件是否存在
12Path path = Paths.get(&quot;helloword/data.txt&quot;);System.out.println(Files.exists(path));



创建一级目录
12Path path = Paths.get(&quot;helloword/d1&quot;);Files.createDirectory(path);


如果目录已存在，会抛异常 FileAlreadyExistsException
不能一次创建多级目录，否则会抛异常 NoSuchFileException

创建多级目录用
12Path path = Paths.get(&quot;helloword/d1/d2&quot;);  // 即使d1目录不能存在也会创建出来Files.createDirectories(pa..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/%EF%BC%88nio%EF%BC%89Files%20%E8%AF%A6%E7%BB%86%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C%E5%92%8C%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%A6%82%E5%88%A0%E9%99%A4%E3%80%81%E6%8B%B7%E8%B4%9D%EF%BC%88%E5%A4%9A%E7%BA%A7%EF%BC%89%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%AD%89/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../../images/0023.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/nio-Selector-%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%E8%BE%B9%E7%95%8C-%E9%99%84%E4%BB%B6%E4%B8%8E%E6%89%A9%E5%AE%B9/"><img class="post-cover-img js-img-fadeIn" src="/../../../images/0023.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Netty"><i class="tag post-item-tag">Netty</i></a><a href="/tags/nio"><i class="tag post-item-tag">nio</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/nio-Selector-%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%E8%BE%B9%E7%95%8C-%E9%99%84%E4%BB%B6%E4%B8%8E%E6%89%A9%E5%AE%B9/">（Netty）nio-Selector-处理消息边界-附件与扩容</a></h2><time class="has-text-grey" datetime="2023-01-14T16:40:27.337Z">2023-01-15</time><p class="is-flex-grow-2 mt-2">⚠️  不处理边界的问题以前有同学写过这样的代码，思考注释中两个问题，以 bio 为例，其实 nio 道理是一样的
12345678910111213141516171819public class Server {    public static void main(String[] args) throws IOException {        ServerSocket ss=new ServerSocket(9000);        while (true) {            Socket s = ss.accept();            InputStream in = s.getInputStream();            // 这里这么写，有没有问题         ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/15/Netty/%E7%AC%94%E8%AE%B0%E6%8A%BD%E5%8F%96/nio-Selector-%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%E8%BE%B9%E7%95%8C-%E9%99%84%E4%BB%B6%E4%B8%8E%E6%89%A9%E5%AE%B9/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../images/0021.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/14/Netty/Netty01-nio/"><img class="post-cover-img js-img-fadeIn" src="/../../images/0021.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Netty"><i class="tag post-item-tag">Netty</i></a><a href="/tags/nio"><i class="tag post-item-tag">nio</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/14/Netty/Netty01-nio/">（Netty）1-nio</a></h2><time class="has-text-grey" datetime="2023-01-14T01:45:34.138Z">2023-01-14</time><p class="is-flex-grow-2 mt-2">一. NIO 基础non-blocking io 非阻塞 IO
1. 三大组件1.1 Channel &amp;amp; Bufferchannel 有一点类似于 stream，它就是读写数据的双向通道，可以从 channel 将数据读入 buffer，也可以将 buffer 的数据写入 channel，而之前的 stream 要么是输入，要么是输出，channel 比 stream 更为底层
123graph LRchannel --&amp;gt; bufferbuffer --&amp;gt; channel

常见的 Channel 有

FileChannel
DatagramChannel
SocketChannel
ServerSocketChannel

buffer 则用来缓冲读写数据，常见的 buffer 有
..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/14/Netty/Netty01-nio/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/img_convert/2a3da9e0684da25f3603859309a31002.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/13/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/3-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-GUI%E7%AF%87/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/img_convert/2a3da9e0684da25f3603859309a31002.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87"><i class="tag post-item-tag">JVM下篇：性能监控与调优篇</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/13/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/3-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-GUI%E7%AF%87/">3-JVM监控及诊断工具-GUI篇</a></h2><time class="has-text-grey" datetime="2023-01-13T02:54:04.032Z">2023-01-13</time><p class="is-flex-grow-2 mt-2">[toc]
3. JVM 监控及诊断工具-GUI 篇3.1. 工具概述使用上一章命令行工具或组合能帮您获取目标 Java 应用性能相关的基础信息，但它们存在下列局限：

1．无法获取方法级别的分析数据，如方法间的调用关系、各方法的调用次数和调用时间等（这对定位应用性能瓶颈至关重要）。
2．要求用户登录到目标 Java 应用所在的宿主机上，使用起来不是很方便。
3．分析数据通过终端输出，结果展示不够直观。

为此，JDK 提供了一些内存泄漏的分析工具，如 jconsole，jvisualvm 等，用于辅助开发人员定位问题，但是这些工具很多时候并不足以满足快速定位的需求。所以这里我们介绍的工具相对多一些、丰富一些。
JDK 自带的工具

jconsole：JDK 自带的可视化监控工具。查看 Java 应用程序的..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/13/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/3-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-GUI%E7%AF%87/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/img_convert/5b7c5d239e4da192ba65edb0800055c5.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/2-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/img_convert/5b7c5d239e4da192ba65edb0800055c5.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87"><i class="tag post-item-tag">JVM下篇：性能监控与调优篇</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/2-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87/">2-JVM监控及诊断工具-命令行篇</a></h2><time class="has-text-grey" datetime="2023-01-12T13:57:19.320Z">2023-01-12</time><p class="is-flex-grow-2 mt-2">[toc]
2. JVM 监控及诊断工具-命令行篇2.1. 概述性能诊断是软件工程师在日常工作中需要经常面对和解决的问题，在用户体验至上的今天，解决好应用的性能问题能带来非常大的收益。
Java 作为最流行的编程语言之一，其应用性能诊断一直受到业界广泛关注。可能造成 Java 应用出现性能问题的因素非常多，例如线程控制、磁盘读写、数据库访问、网络 I/O、垃圾收集等。想要定位这些问题，一款优秀的性能诊断工具必不可少。
体会 1：使用数据说明问题，使用知识分析问题，使用工具处理问题。
体会 2：无监控、不调优！
简单命令行工具
在我们刚接触 java 学习的时候，大家肯定最先了解的两个命令就是 javac，java，那么除此之外，还有没有其他的命令可以供我们使用呢？
我们进入到安装 jdk 的 bin 目录，..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/2-JVM%E7%9B%91%E6%8E%A7%E5%8F%8A%E8%AF%8A%E6%96%AD%E5%B7%A5%E5%85%B7-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AF%87/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../../images/image-20230112214518042.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/1-%E6%A6%82%E8%BF%B0%E7%AF%87/"><img class="post-cover-img js-img-fadeIn" src="/../../../images/image-20230112214518042.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87"><i class="tag post-item-tag">JVM下篇：性能监控与调优篇</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/1-%E6%A6%82%E8%BF%B0%E7%AF%87/">1-概述篇</a></h2><time class="has-text-grey" datetime="2023-01-12T13:40:28.651Z">2023-01-12</time><p class="is-flex-grow-2 mt-2">[toc]
1. 概述篇1.1. 大厂面试题
支付宝：
支付宝三面：JVM 性能调优都做了什么？
小米：
有做过 JVM 内存优化吗？
从 SQL、JVM、架构、数据库四个方面讲讲优化思路
蚂蚁金服：
JVM 的编译优化
jvm 性能调优都做了什么
JVM 诊断调优工具用过哪些？
二面：jvm 怎样调优，堆内存、栈空间设置多少合适
三面：JVM 相关的分析工具使用过的有哪些？具体的性能调优步骤如何
阿里：
如何进行 JVM 调优？有哪些方法？
如何理解内存泄漏问题？有哪些情况会导致内存泄漏？如何解决？
字节跳动：
三面：JVM 如何调优、参数怎么调？
拼多多：
从 SQL、JVM、架构、数据库四个方面讲讲优化思路
京东：
JVM 诊断调优工具用过哪些？
每秒几十万并发的秒杀系统为什么会频繁发生 GC？
日均..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/1-%E6%A6%82%E8%BF%B0%E7%AF%87/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="/../../../images/image-20230116162222206.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E4%BD%BF%E7%94%A8OQL%E8%AF%AD%E8%A8%80%E6%9F%A5%E8%AF%A2%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF/"><img class="post-cover-img js-img-fadeIn" src="/../../../images/image-20230116162222206.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87"><i class="tag post-item-tag">JVM下篇：性能监控与调优篇</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E4%BD%BF%E7%94%A8OQL%E8%AF%AD%E8%A8%80%E6%9F%A5%E8%AF%A2%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF/">使用OQL语言查询对象信息</a></h2><time class="has-text-grey" datetime="2023-01-12T13:39:31.851Z">2023-01-12</time><p class="is-flex-grow-2 mt-2">[toc]
补充：使用 OQL 语言查询对象信息MAT 支持一种类似于 SQL 的查询语言 OQL（Object Query Language）。OQL 使用类 SQL 语法，可以在堆中进行对象的查找和筛选。
1. SELECT 子句在 MAT 中，Select 子句的格式与 SQL 基本一致，用于指定要显示的列。Select 子句中可以使用“＊”，查看结果对象的引用实例（相当于 outgoing references）。
1SELECT * FROM java.util.Vector v

使用“OBJECTS”关键字，可以将返回结果集中的项以对象的形式显示。
123SELECT objects v.elementData FROM java.util.Vector vSELECT OBJECTS s.v..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E4%BD%BF%E7%94%A8OQL%E8%AF%AD%E8%A8%80%E6%9F%A5%E8%AF%A2%E5%AF%B9%E8%B1%A1%E4%BF%A1%E6%81%AF/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://pic.leetcode-cn.com/ec8f7e4f40134b932a9ff2e306d885e427bd8ee912801361849d92ddae6226f3-image.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/12/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/leetcode-127.%20%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/"><img class="post-cover-img js-img-fadeIn" src="https://pic.leetcode-cn.com/ec8f7e4f40134b932a9ff2e306d885e427bd8ee912801361849d92ddae6226f3-image.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/%E5%88%B7%E9%A2%98"><i class="tag post-item-tag">刷题</i></a><a href="/tags/leetcode"><i class="tag post-item-tag">leetcode</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/12/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/leetcode-127.%20%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/">leetcode-127.单词接龙</a></h2><time class="has-text-grey" datetime="2023-01-12T13:20:50.194Z">2023-01-12</time><p class="is-flex-grow-2 mt-2">127. 单词接龙难度	 困难
字典 wordList 中从单词 beginWord 和 endWord 的 转换序列 是一个按下述规格形成的序列 beginWord -&amp;gt; s1 -&amp;gt; s2 -&amp;gt; ... -&amp;gt; sk：

每一对相邻的单词只差一个字母。
对于 1 &amp;lt;= i &amp;lt;= k 时，每个 si 都在 wordList 中。注意， beginWord 不需要在 wordList 中。
sk == endWord

给你两个单词 beginWord 和 endWord 和一个字典 wordList ，返回 从 beginWord 到 endWord 的 最短转换序列 中的 单词数目 。如果不存在这样的转换序列，返回 0 。
示例 1：
123输入：beginWord = ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/12/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/leetcode-127.%20%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/img_convert/ecc35ddfcfd13200bbc881333d38ac93.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E6%B5%85%E5%A0%86%E6%B7%B1%E5%A0%86%E4%B8%8E%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/img_convert/ecc35ddfcfd13200bbc881333d38ac93.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87"><i class="tag post-item-tag">JVM下篇：性能监控与调优篇</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E6%B5%85%E5%A0%86%E6%B7%B1%E5%A0%86%E4%B8%8E%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2/">浅堆深堆与内存泄露</a></h2><time class="has-text-grey" datetime="2023-01-12T02:41:36.361Z">2023-01-12</time><p class="is-flex-grow-2 mt-2">[toc]
补充：浅堆深堆与内存泄露1. 浅堆（Shallow Heap）浅堆是指一个对象所消耗的内存。在 32 位系统中，一个对象引用会占据 4 个字节，一个 int 类型会占据 4 个字节，long 型变量会占据 8 个字节，每个对象头需要占用 8 个字节。根据堆快照格式不同，对象的大小可能会同 8 字节进行对齐。
以 String 为例：2 个 int 值共占 8 字节，对象引用占用 4 字节，对象头 8 字节，合计 20 字节，向 8 字节对齐，故占 24 字节。（jdk7 中）



int
hash32
0



int
hash
0


ref
value
C:\Users\Administrat


这 24 字节为 String 对象的浅堆大小。它与 String 的 value 实际取值..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/12/JVM/JVM%E4%B8%8B%E7%AF%87%EF%BC%9A%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%B0%83%E4%BC%98%E7%AF%87/%E8%A1%A5%E5%85%85%EF%BC%9A%E6%B5%85%E5%A0%86%E6%B7%B1%E5%A0%86%E4%B8%8E%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2/">更多</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://img-blog.csdnimg.cn/img_convert/fb51cabb2218d857a809a59918c5beec.png" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2023/01/11/JVM/JVM%E4%B8%AD%E7%AF%87%EF%BC%9A%E5%AD%97%E8%8A%82%E7%A0%81%E4%B8%8E%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E7%AF%87/5-%E5%86%8D%E8%B0%88%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%99%A8/"><img class="post-cover-img js-img-fadeIn" src="https://img-blog.csdnimg.cn/img_convert/fb51cabb2218d857a809a59918c5beec.png" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/JVM"><i class="tag post-item-tag">JVM</i></a><a href="/tags/JVM%E4%B8%AD%E7%AF%87%EF%BC%9A%E5%AD%97%E8%8A%82%E7%A0%81%E4%B8%8E%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%99%A8"><i class="tag post-item-tag">JVM中篇：字节码与类的加载器</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2023/01/11/JVM/JVM%E4%B8%AD%E7%AF%87%EF%BC%9A%E5%AD%97%E8%8A%82%E7%A0%81%E4%B8%8E%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E7%AF%87/5-%E5%86%8D%E8%B0%88%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%99%A8/">5-再谈类的加载器</a></h2><time class="has-text-grey" datetime="2023-01-11T06:50:31.162Z">2023-01-11</time><p class="is-flex-grow-2 mt-2">[toc]
1. 概述类加载器是JVM执行类加载机制的前提。
ClassLoader的作用：
ClassLoader是Java的核心组件，所有的Class都是由ClassLoader进行加载的，ClassLoader负责通过各种方式将Class信息的二进制数据流读入JVM内部，转换为一个与目标类对应的java.lang.Class对象实例。然后交给Java虚拟机进行链接、初始化等操作。因此，ClassLoader在整个装载阶段，只能影响到类的加载，而无法通过ClassLoader去改变类的链接和初始化行为。至于它是否可以运行，则由Execution Engine决定。

1.1. 大厂面试题
蚂蚁金服：
深入分析ClassLoader，双亲委派机制
类加载器的双亲委派模型是什么？一面：双亲委派机制及使用原因..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2023/01/11/JVM/JVM%E4%B8%AD%E7%AF%87%EF%BC%9A%E5%AD%97%E8%8A%82%E7%A0%81%E4%B8%8E%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E7%AF%87/5-%E5%86%8D%E8%B0%88%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%99%A8/">更多</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/archives/page/3/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/archives/">1</a><a class="page-number" href="/archives/page/2/">2</a><a class="page-number" href="/archives/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/archives/page/5/">5</a><a class="page-number" href="/archives/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/archives/page/16/">16</a><a class="extend next" rel="next" href="/archives/page/5/"><i class="iconfont icon-next has-text-grey"></i></a></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container archives-widget is-in-archive-page"><h3>归档</h3><section><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a><span class="archive-list-count">102</span></li></ul></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/haojen"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Haojen 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>